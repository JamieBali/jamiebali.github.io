---
layout: post
title:  "Fun With Flags"
date:   2025-05-17 16:00:00 +0000
categories: AI
---

I like neural networks. I think they are incredibly powerful and, while they have some obvious drawbacks like training data requirement, I think they have an incredible amount of Pros as well. This doc, however, is not an investigation into Neural networks. No, this is a ridiculous idea which came from a question - how small can a flag be before we can no longer identify what it is?

# Part 1 : How small can a flag be before we can no longer identify what it is?

This is quite a broad question - obviously the answer can differ greatly depending on what the flag is. Something like Japan doesn't need explaining - it's obvious that a red dot on a white background is going to be Japan, even when shrunk all the way down to 3x3 pixels. The same probably goes fro a country like Albania.

<img src="https://upload.wikimedia.org/wikipedia/commons/3/36/Flag_of_Albania.svg">

<img src="https://imgur.com/nEGqrBI.png">

This image here is obviously really small and distorted, but Albania has quite a recognisable flag and it's quite unique, so you can identify that this is albania.

Sticking to Europe, issues quickly arise with countries like Slovakia and Slovenia which have very similar flags - the difference be only in the crest on the left-hand side.

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/e/e6/Flag_of_Slovakia.svg/1200px-Flag_of_Slovakia.svg.png"> 

<img src="https://upload.wikimedia.org/wikipedia/commons/thumb/f/f0/Flag_of_Slovenia.svg/1200px-Flag_of_Slovenia.svg.png"> 

For a look at these high res SVG files, you can clearly see a difference, but when compressed down these will become harder and harder to distinguish.

My initial suggestion which I've essentially plucked from thin air is 6x10 pixels. From the initial samples I've attempted to draw, this seems to be sufficient enough to draw a decent enough flag that can be recognised by a human most of the time. 

# Part 2 : The AI

So how does this relate to AI? Well, if a human can identify my 6x10 flag drawings with ~50% accuracy, how well can an AI do? 

The goal is to use a neural network, training on a selection of flag drawings and see how well it can identify them. Optimally, we'll be able to identify these flags with greater than 50% accuracy. The main challanges here will be with similar looking flags like Slovakia and Slovenia, and the Netherlands and Luxemborg.

## 1. Binary Representation of the Flag

To get a flag ready for the AI, I have opted to use a 3-dimensional binary array. The x and y axis represent the coordinate on the pixel grid, and a third z-axis is used to represent teh colour of that pixel. In an array in the Z-axis, all items will equal - except the correct colour (where the 0th item means white, 1st means black, 3rd means red, etc..). I'll be limiting the amount of colours down to Black, White, Red, Green, Blue, Yellow, Orange, and a second lighter shade of blue. These list of colours should be sufficient to draw all the flags of europe (which is what we're starting with for now).

`<insert diagram here of 3d array representation>`

We can automatically create flag representations for all our testing and training data with a for loop and case statement.

{% highlight python %}
for pixel in flattened_flag:
    # flattened_flag here is a 1d representation of the flag
    z_axis = np.zeros(len(possible_colours)-1)
    match pixel.colour:
        case "black":
            z_axis[0] = 1
        case "white":
            z_axis[1] = 1
        case etc...
            
    binary_representation.add(z_axis)
{% endhighlight %}

The `flattened_flag` variable here is a 1-dimensional representation of the flag we're processing. Even though this does make the flag less human readable, it's fine to keep as long as we're consisten and the AI should be able ot process it fine.

<svg viewBox="-859 -639 1718 1278" style="background-color: rgb(255, 255, 255);" xmlns="http://www.w3.org/2000/svg"><path d="M11.860784876295012,56.15990832278485L-11.65420733812172,51.45484893660254M-11.65420733812172,-135.15162126464702L-11.65420733812172,51.45484893660254M-11.65420733812172,51.45484893660254L-139.53331299712133,104.90086654864722M11.860784876295012,-130.4465618784647L11.860784876295012,56.15990832278485M11.860784876295012,56.15990832278485L-116.0183207827046,109.60592593482953" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M11.86078487629501,56.15990832278485L-11.654207338121722,51.45484893660254L-11.654207338121722,-135.15162126464702zM11.86078487629501,-130.44656187846473L11.86078487629501,56.15990832278485L-11.654207338121722,-135.15162126464702z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-2.0587004827235362,-57.7764170465834L-25.573692697140267,-62.48147643276571M-25.573692697140267,-96.74139957609736L-25.573692697140267,-62.48147643276571M-25.573692697140267,-62.48147643276571L-45.93732900624909,-53.97066257296211M11.860784876295012,-130.4465618784647L-11.65420733812172,-135.15162126464702M-11.65420733812172,-135.15162126464702L-139.53331299712133,-81.70560365260235" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-2.0587004827235407,-57.77641704658339L-25.57369269714027,-62.48147643276571L-25.57369269714027,-96.74139957609736z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-139.53331299712133,104.90086654864722L-11.654207338121722,51.45484893660254L11.86078487629501,56.15990832278485z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-2.0587004827235362,-92.03634018991505L-25.573692697140267,-96.74139957609736M-25.573692697140267,-96.74139957609736L-45.93732900624909,-88.23058571629376" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-45.93732900624909,-53.97066257296211L-25.57369269714027,-62.48147643276571L-2.0587004827235407,-57.77641704658339z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-2.0587004827235362,-92.03634018991505L-2.0587004827235362,-57.7764170465834M-2.0587004827235362,-57.7764170465834L-22.422336791832358,-49.2656031867798M-2.0587041330786016,-92.03633834877503L-2.0587041330786016,-57.77641817569871M-2.0587041330786016,-57.77641817569871L-22.422340442187416,-49.26560431589511M-2.0587041330786016,-57.77641817569871L132.23828631384143,-48.40744201622134" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-25.57369269714027,-96.74139957609736L-25.57369269714027,-62.48147643276571L-45.93732900624909,-88.23058571629379z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M11.860784876295012,-130.4465618784647L-116.0183207827046,-77.00054426642004" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-2.0587004827235407,-92.03634018991505L-2.0587004827235407,-57.77641704658339L-25.57369269714027,-96.74139957609736zM-25.57369269714027,-62.48147643276571L-45.93732900624909,-53.97066257296211L-45.93732900624909,-88.23058571629379z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-2.0587004827235362,-92.03634018991505L-22.422336791832358,-83.52552633011145M-2.0587041330786016,-92.03633834877503L-22.422340442187416,-83.52552448897143M-2.0587041330786016,-92.03633834877503L132.23828631384143,-48.40744201622134M-45.93732900624909,-88.23058571629376L-45.93732900624909,-53.97066257296211M-45.93732900624909,-53.97066257296211L-22.422336791832358,-49.2656031867798" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-2.0587006949906006,-92.03634023238706L-2.0587006949906006,-57.77641708905541L-22.422337004099415,-49.265603229251816z" style="fill:rgb(255,187,187); fill-opacity: 0.4"></path><path d="M-22.422336791832354,-49.26560318677979L-2.0587004827235407,-57.77641704658339L-2.0587004827235407,-92.03634018991505zM-22.422336791832354,-49.26560318677979L-45.93732900624909,-53.97066257296211L-2.0587004827235407,-57.77641704658339zM-22.422336791832354,-83.52552633011146L-2.0587004827235407,-92.03634018991505L-25.57369269714027,-96.74139957609736zM-45.93732900624909,-88.23058571629379L-22.422336791832354,-83.52552633011146L-25.57369269714027,-96.74139957609736z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-116.0183207827046,109.60592593482951L11.86078487629501,56.15990832278485L11.86078487629501,-130.44656187846473z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-45.93732900624909,-88.23058571629376L-22.422336791832358,-83.52552633011145" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-45.93732900624909,-88.23058571629379L-45.93732900624909,-53.97066257296211L-22.422336791832354,-83.52552633011146z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-11.654207338121722,-135.15162126464702L-11.654207338121722,51.45484893660254L-139.53331299712133,-81.70560365260235z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-2.0587006949906006,-92.03634023238706L-22.422337004099415,-49.265603229251816L-22.422337004099415,-83.52552637258349z" style="fill:rgb(255,187,187); fill-opacity: 0.4"></path><path d="M-22.422336791832354,-83.52552633011146L-22.422336791832354,-49.26560318677979L-2.0587004827235407,-92.03634018991505zM-45.93732900624909,-53.97066257296211L-22.422336791832354,-49.26560318677979L-22.422336791832354,-83.52552633011146z" style="fill:rgb(153,221,255); fill-opacity: 0.4"></path><path d="M-22.422336791832358,-83.52552633011145L-22.422336791832358,-49.2656031867798M-22.422340442187416,-49.26560431589511L-22.422340442187416,-83.52552448897143M-22.422340442187416,-49.26560431589511L132.23828631384143,-48.40744201622134M-22.422340442187416,-83.52552448897143L132.23828631384143,-48.40744201622134M179.85458526765206,89.77339201627278L156.3395930532353,85.06833263009047M156.3395930532353,-101.5381375711591L156.3395930532353,85.06833263009047M156.3395930532353,85.06833263009047L28.460487394235702,138.51435024213515" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-2.0587006949906006,-57.77641708905541L-2.0587006949906006,-92.03634023238706L132.23828975192941,-48.40744315590621zM-22.422337004099415,-49.265603229251816L-2.0587006949906006,-57.77641708905541L132.23828975192941,-48.40744315590621z" style="fill:rgb(255,187,187); fill-opacity: 0.4"></path><path d="M-116.0183207827046,-77.00054426642004L11.86078487629501,-130.44656187846473L-11.654207338121722,-135.15162126464702z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-2.0587006949906006,-92.03634023238706L-22.422337004099415,-83.52552637258349L132.23828975192941,-48.40744315590621z" style="fill:rgb(255,187,187); fill-opacity: 0.4"></path><path d="M179.85458526765206,-96.83307818497677L179.85458526765206,89.77339201627278M179.85458526765206,89.77339201627278L51.975479608652435,143.21940962831746" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-116.0183207827046,109.60592593482951L-139.53331299712133,104.90086654864722L11.86078487629501,56.15990832278485z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-22.422337004099415,-83.52552637258349L-22.422337004099415,-49.265603229251816L132.23828975192941,-48.40744315590621z" style="fill:rgb(255,187,187); fill-opacity: 0.4"></path><path d="M179.85458526765206,89.77339201627277L156.3395930532353,85.06833263009047L156.3395930532353,-101.5381375711591zM-11.654207338121722,51.45484893660254L-139.53331299712133,104.90086654864722L-139.53331299712133,-81.70560365260235zM179.85458526765206,-96.8330781849768L179.85458526765206,89.77339201627277L156.3395930532353,-101.5381375711591z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M179.85458526765206,-96.83307818497677L156.3395930532353,-101.5381375711591M156.3395930532353,-101.5381375711591L28.460487394235702,-48.09211995911442" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-116.0183207827046,-77.00054426642004L-116.0183207827046,109.60592593482951L11.86078487629501,-130.44656187846473zM28.460487394235702,138.51435024213515L156.3395930532353,85.06833263009047L179.85458526765206,89.77339201627277z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-139.53331299712133,-81.70560365260235L-139.53331299712133,104.90086654864722M-139.53331299712133,104.90086654864722L-116.0183207827046,109.60592593482953" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M-139.53331299712133,-81.70560365260235L-116.0183207827046,-77.00054426642004L-11.654207338121722,-135.15162126464702z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M179.85458526765206,-96.83307818497677L51.975479608652435,-43.3870605729321M-116.0183207827046,-77.00054426642004L-116.0183207827046,109.60592593482953" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M51.975479608652435,143.21940962831744L179.85458526765206,89.77339201627277L179.85458526765206,-96.8330781849768zM-139.53331299712133,104.90086654864722L-116.0183207827046,109.60592593482951L-116.0183207827046,-77.00054426642004zM156.3395930532353,-101.5381375711591L156.3395930532353,85.06833263009047L28.460487394235702,-48.092119959114406zM-139.53331299712133,-81.70560365260235L-139.53331299712133,104.90086654864722L-116.0183207827046,-77.00054426642004z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M-139.53331299712133,-81.70560365260235L-116.0183207827046,-77.00054426642004" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M51.975479608652435,-43.3870605729321L179.85458526765206,-96.8330781849768L156.3395930532353,-101.5381375711591zM51.975479608652435,143.21940962831744L28.460487394235702,138.51435024213515L179.85458526765206,89.77339201627277zM156.3395930532353,85.06833263009047L28.460487394235702,138.51435024213515L28.460487394235702,-48.092119959114406z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M127.86325820302098,25.58385806256574L218.83139695209746,43.785458605834016" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M51.975479608652435,-43.3870605729321L51.975479608652435,143.21940962831744L179.85458526765206,-96.8330781849768z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M28.460487394235702,-48.09211995911442L28.460487394235702,138.51435024213515M28.460487394235702,138.51435024213515L51.975479608652435,143.21940962831746" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M28.460487394235702,-48.092119959114406L51.975479608652435,-43.3870605729321L156.3395930532353,-101.5381375711591z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M51.975479608652435,-43.3870605729321L51.975479608652435,143.21940962831746" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M28.460487394235702,138.51435024213515L51.975479608652435,143.21940962831744L51.975479608652435,-43.3870605729321z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M294.6278260938384,101.55063221849059L276.08244107384684,97.83992982645749M276.08244107384684,4.711001190439199L276.08244107384684,97.83992982645749M276.08244107384684,97.83992982645749L263.2506254989445,103.20288132409705" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M214.4298129770495,48.031177683255585L218.83139695209746,51.57180477477303L266.9909998192556,53.42160006991722zM221.5517253467414,36.34923334873216L216.11106855745356,38.623110985605535L266.9909998192556,53.42160006991722zM216.11106855745356,38.623110985605535L214.4298129770495,48.031177683255585L266.9909998192556,53.42160006991722z" style="fill:rgb(0,0,0)"></path><path d="M28.460487394235702,-48.092119959114406L28.460487394235702,138.51435024213515L51.975479608652435,-43.3870605729321zM263.2506254989445,103.20288132409704L276.08244107384684,97.83992982645746L294.6278260938384,101.55063221849058z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M294.6278260938384,8.421703582472306L294.6278260938384,101.55063221849059M294.6278260938384,101.55063221849059L281.796010518936,106.91358371613016" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M294.6278260938384,101.55063221849058L276.08244107384684,97.83992982645746L276.08244107384684,4.711001190439196z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M263.2506254989445,10.073952688078768L263.2506254989445,103.20288132409705M263.2506254989445,103.20288132409705L281.796010518936,106.91358371613016" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M281.796010518936,106.91358371613015L263.2506254989445,103.20288132409704L294.6278260938384,101.55063221849058zM276.08244107384684,97.83992982645746L263.2506254989445,103.20288132409704L263.2506254989445,10.073952688078766z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M28.460487394235702,-48.09211995911442L51.975479608652435,-43.3870605729321" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M276.08244107384684,4.711001190439196L276.08244107384684,97.83992982645746L263.2506254989445,10.073952688078766zM294.6278260938384,8.421703582472293L294.6278260938384,101.55063221849058L276.08244107384684,4.711001190439196zM281.796010518936,106.91358371613015L294.6278260938384,101.55063221849058L294.6278260938384,8.421703582472293z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M294.6278260938384,8.421703582472306L276.08244107384684,4.711001190439199M276.08244107384684,4.711001190439199L263.2506254989445,10.073952688078768M281.796010518936,13.784655080111872L281.796010518936,106.91358371613016" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M263.2506254989445,103.20288132409704L281.796010518936,106.91358371613015L281.796010518936,13.784655080111861z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M290.8874517735273,58.20298483665211L381.8555905226038,76.40458537992038M294.6278260938384,8.421703582472306L281.796010518936,13.784655080111872" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M263.2506254989445,10.073952688078766L263.2506254989445,103.20288132409704L281.796010518936,13.784655080111861zM281.796010518936,13.784655080111861L294.6278260938384,8.421703582472293L276.08244107384684,4.711001190439196zM281.796010518936,13.784655080111861L281.796010518936,106.91358371613015L294.6278260938384,8.421703582472293zM263.2506254989445,10.073952688078766L281.796010518936,13.784655080111861L276.08244107384684,4.711001190439196z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M263.2506254989445,10.073952688078768L281.796010518936,13.784655080111872" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M377.4540065475558,80.65030445734195L381.8555905226038,84.1909315488594L430.0151933897619,86.04072684400357zM384.5759189172477,68.96836012281852L379.1352621279599,71.2422377596919L430.0151933897619,86.04072684400357zM379.1352621279599,71.2422377596919L377.4540065475558,80.65030445734195L430.0151933897619,86.04072684400357z" style="fill:rgb(0,0,0)"></path><path d="M457.65201966434466,96.24062892847836L439.10663464435316,92.52992653644526M439.10663464435316,75.25925802862413L439.10663464435316,92.52992653644526M439.10663464435316,92.52992653644526L426.2748190694508,97.89287803408482M457.65201966434466,78.96996042065722L439.10663464435316,75.25925802862413M439.10663464435316,75.25925802862413L426.2748190694508,80.62220952626369" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M457.65201966434466,96.24062892847837L439.10663464435316,92.52992653644527L439.10663464435316,75.25925802862413zM439.10663464435316,75.25925802862413L439.10663464435316,92.52992653644527L426.27481906945087,80.62220952626369zM426.27481906945087,97.89287803408484L439.10663464435316,92.52992653644527L457.65201966434466,96.24062892847837zM457.65201966434466,78.96996042065724L457.65201966434466,96.24062892847837L439.10663464435316,75.25925802862413z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M457.65201966434466,78.96996042065722L457.65201966434466,96.24062892847836M457.65201966434466,96.24062892847836L444.82020408944237,101.60358042611793" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M439.10663464435316,92.52992653644527L426.27481906945087,97.89287803408484L426.27481906945087,80.62220952626369z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M457.65201966434466,78.96996042065722L444.82020408944237,84.3329119182968M426.2748190694508,80.62220952626369L426.2748190694508,97.89287803408482M426.2748190694508,97.89287803408482L444.82020408944237,101.60358042611793" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M444.82020408944237,84.3329119182968L457.65201966434466,78.96996042065724L439.10663464435316,75.25925802862413zM444.82020408944237,101.60358042611794L457.65201966434466,96.24062892847837L457.65201966434466,78.96996042065724zM444.82020408944237,101.60358042611794L426.27481906945087,97.89287803408484L457.65201966434466,96.24062892847837zM426.27481906945087,80.62220952626369L444.82020408944237,84.3329119182968L439.10663464435316,75.25925802862413z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M426.2748190694508,80.62220952626369L444.82020408944237,84.3329119182968" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path><path d="M426.27481906945087,80.62220952626369L426.27481906945087,97.89287803408484L444.82020408944237,84.3329119182968zM444.82020408944237,84.3329119182968L444.82020408944237,101.60358042611794L457.65201966434466,78.96996042065724zM426.27481906945087,97.89287803408484L444.82020408944237,101.60358042611794L444.82020408944237,84.3329119182968z" style="fill:rgb(238,238,238); fill-opacity: 0.4"></path><path d="M444.82020408944237,84.3329119182968L444.82020408944237,101.60358042611793" style="fill:none;stroke:rgb(0,0,0);stroke-width:1;stroke-linecap:round"></path></svg>

## 2. Training


## 3. Testing

